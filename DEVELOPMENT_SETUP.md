# üõ†Ô∏è DEVELOPMENT SETUP - RiskGuardian AI

**Guia completo de configura√ß√£o do ambiente de desenvolvimento nativo usando scripts automatizados.**

## üéØ Vis√£o Geral

**RiskGuardian AI** √© uma plataforma de an√°lise de riscos DeFi com IA integrada, constru√≠da com arquitetura moderna usando Node.js nativo. A plataforma combina tecnologia blockchain, intelig√™ncia artificial e an√°lise de dados em tempo real para fornecer avalia√ß√£o abrangente de riscos para portf√≥lios DeFi.

## üõ†Ô∏è Stack Tecnol√≥gica

### **Core Technologies**
- **Frontend**: Next.js 15 + React 19 + TypeScript
- **Backend**: Node.js + Express + TypeScript  
- **AI Agent**: ElizaOS + WebSocket
- **Alertas**: Chromia AWS
- **Blockchain**: Ethereum + Chainlink + Anvil/Hardhat
- **Database**: SQLite (dev) / PostgreSQL (prod)

## üìã Pr√©-requisitos

### **Ferramentas Obrigat√≥rias**
- **Node.js 18+**: Runtime JavaScript
- **npm 9+**: Gerenciador de pacotes
- **Git**: Controle de vers√£o
- **curl**: Health checks (opcional)

### **Verifica√ß√£o do Sistema**
```bash
# Verificar vers√µes
node --version    # >= 18.0.0
npm --version     # >= 9.0.0
git --version     # Qualquer vers√£o

# Configura√ß√£o inicial autom√°tica
./setup-riskguardian.sh
```

## üöÄ Hist√≥rico de Desenvolvimento

### **Evolu√ß√£o da Arquitetura**
O projeto evoluiu de uma abordagem complexa com Docker para uma solu√ß√£o nativa otimizada:

**Vers√£o 1.0 (Docker Era)**
- 7 servi√ßos em containers Docker
- Complexidade de configura√ß√£o
- Overhead de recursos

**Vers√£o 2.0 (Native Era - Atual)**
- Scripts automatizados nativos
- Inicializa√ß√£o instant√¢nea
- Recursos otimizados
- Desenvolvimento √°gil

### **Benef√≠cios da Abordagem Nativa**
- ‚ö° **Inicializa√ß√£o mais r√°pida**: 5-10 segundos vs 2-3 minutos
- üîß **Debug simplificado**: Logs nativos e debug direto
- üì¶ **Menos recursos**: CPU e RAM otimizados
- üöÄ **Desenvolvimento √°gil**: Hot reload instant√¢neo
- üéØ **Foco no c√≥digo**: Sem overhead de containers

## üì¶ Estrutura do Projeto

```
riskguardian-ai/
‚îú‚îÄ‚îÄ üé® frontend/                      # Next.js Application
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/                      # App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/               # React Components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/                    # Custom Hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/                 # API Services
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stores/                   # State Management
‚îÇ   ‚îú‚îÄ‚îÄ package.json                  # Dependencies
‚îÇ   ‚îî‚îÄ‚îÄ next.config.js                # Next.js Config
‚îÇ
‚îú‚îÄ‚îÄ üîß backend/                       # Node.js API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/              # Route Controllers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/                 # Business Logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/               # Express Middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/                   # API Routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/                    # Utilities
‚îÇ   ‚îú‚îÄ‚îÄ simple-server.js              # Production Server
‚îÇ   ‚îî‚îÄ‚îÄ package.json                  # Dependencies
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ elizaos-agent/                 # AI Agent
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/                 # AI Services
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config/                   # Agent Config
‚îÇ   ‚îî‚îÄ‚îÄ package.json                  # Dependencies
‚îÇ
‚îú‚îÄ‚îÄ üîó chromia_aws/                   # Alert System
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/                 # Alert Services
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config/                   # System Config
‚îÇ   ‚îî‚îÄ‚îÄ package.json                  # Dependencies
‚îÇ
‚îú‚îÄ‚îÄ üìÑ contracts/                     # Smart Contracts
‚îÇ   ‚îú‚îÄ‚îÄ *.sol                         # Solidity Files
‚îÇ   ‚îî‚îÄ‚îÄ scripts/                      # Deploy Scripts
‚îÇ
‚îú‚îÄ‚îÄ üöÄ scripts/                       # Deployment Scripts
‚îÇ   ‚îî‚îÄ‚îÄ *.ts                          # TypeScript Scripts
‚îÇ
‚îú‚îÄ‚îÄ üõ†Ô∏è *.sh                          # System Scripts
‚îî‚îÄ‚îÄ üìã *.md                          # Documentation
```

## üöÄ Configura√ß√£o Inicial

### **Configura√ß√£o Autom√°tica (Recomendado)**
```bash
# Clone do reposit√≥rio
git clone https://github.com/your-repo/riskguardian-ai.git
cd riskguardian-ai

# Configura√ß√£o completa autom√°tica
./setup-riskguardian.sh

# Inicializa√ß√£o em modo desenvolvimento
./start-riskguardian.sh dev
```

### **Configura√ß√£o Manual**
```bash
# 1. Instalar depend√™ncias
cd frontend && npm install && cd ..
cd backend && npm install && cd ..
cd elizaos-agent && npm install && cd ..
cd chromia_aws && npm install && cd ..

# 2. Configurar ambientes
cp backend/env.example backend/.env-dev
# Editar .env-dev conforme necess√°rio

# 3. Inicializar servi√ßos
./start-riskguardian.sh dev
```

## üìä Arquitetura de Servi√ßos

### **1. Frontend (Next.js)**
**Porta**: 3000
**Tecnologias**: Next.js 15 + React 19 + TypeScript
**Caracter√≠sticas**:
- App Router com SSR/SSG otimizado
- Integra√ß√£o Web3 com Wagmi v2
- UI moderna com Tailwind + Shadcn/ui
- Gr√°ficos TradingView integrados

### **2. Backend (Node.js)**
**Porta**: 3001
**Tecnologias**: Node.js + Express + TypeScript
**Caracter√≠sticas**:
- API RESTful completa
- Autentica√ß√£o JWT + Web3
- Rate limiting e seguran√ßa
- Health checks autom√°ticos

### **3. ElizaOS Agent (IA)**
**Porta**: 3002
**Tecnologias**: ElizaOS + WebSocket
**Caracter√≠sticas**:
- An√°lise de riscos com IA
- Recomenda√ß√µes inteligentes
- Comunica√ß√£o WebSocket
- Processamento em tempo real

### **4. Chromia AWS (Alertas)**
**Porta**: 3003
**Tecnologias**: Chromia + Socket.IO
**Caracter√≠sticas**:
- Sistema de alertas em tempo real
- Detec√ß√£o de anomalias
- Notifica√ß√µes personalizadas
- Integra√ß√£o Socket.IO

### **5. Blockchain Local**
**Porta**: 8545
**Tecnologias**: Anvil (Foundry) ou Hardhat
**Caracter√≠sticas**:
- Blockchain local para desenvolvimento
- Deploy de contratos
- Testes de automa√ß√£o Chainlink
- Estado persistente

## üéØ Scripts de Sistema

### **Script Principal: start-riskguardian.sh**

```bash
# Modos dispon√≠veis
./start-riskguardian.sh dev         # Desenvolvimento completo
./start-riskguardian.sh prod        # Produ√ß√£o (sem blockchain)
./start-riskguardian.sh blockchain  # Apenas blockchain
./start-riskguardian.sh test        # Apenas depend√™ncias

# Recursos autom√°ticos
- ‚úÖ Verifica√ß√£o de pr√©-requisitos
- ‚úÖ Limpeza de portas em uso
- ‚úÖ Instala√ß√£o de depend√™ncias
- ‚úÖ Health checks autom√°ticos
- ‚úÖ Logs detalhados coloridos
```

### **Scripts Auxiliares**

```bash
./setup-riskguardian.sh     # Configura√ß√£o inicial
./stop-riskguardian.sh      # Parada segura
./status-riskguardian.sh    # Monitor de status
```

## üíª Workflow de Desenvolvimento

### **Desenvolvimento Di√°rio**

```bash
# 1. Verificar status do sistema
./status-riskguardian.sh

# 2. Iniciar desenvolvimento
./start-riskguardian.sh dev

# 3. Acessar servi√ßos
# Frontend: http://localhost:3000
# Backend:  http://localhost:3001
# ElizaOS:  http://localhost:3002
# Chromia:  http://localhost:3003

# 4. Monitorar logs
tail -f riskguardian-startup.log

# 5. Parar quando terminar
./stop-riskguardian.sh
```

### **Desenvolvimento Frontend**

```bash
# Terminal dedicado para frontend
cd frontend

# Desenvolvimento com hot reload
npm run dev

# Build para produ√ß√£o
npm run build

# Lint e type checking
npm run lint
npm run type-check
```

### **Desenvolvimento Backend**

```bash
# Terminal dedicado para backend
cd backend

# Desenvolvimento com nodemon
npm run dev

# Executar testes
npm test

# Build TypeScript
npm run build
```

### **Desenvolvimento de Contratos**

```bash
# Iniciar apenas blockchain
./start-riskguardian.sh blockchain

# Em outro terminal
cd contracts

# Compile contratos
npx hardhat compile

# Deploy local
npx hardhat run scripts/deploy.ts --network localhost

# Executar testes
npx hardhat test
```

## üîß Configura√ß√µes de Ambiente

### **Frontend (.env.local)**
```bash
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your_project_id
NEXT_PUBLIC_BACKEND_API_URL=http://localhost:3001
NEXT_PUBLIC_ELIZAOS_API_URL=http://localhost:3002
NEXT_PUBLIC_CHROMIA_API_URL=http://localhost:3003
```

### **Backend (.env-dev)**
```bash
NODE_ENV=development
JWT_SECRET=your-secret-key
DATABASE_URL=sqlite:./dev.db
REDIS_URL=redis://localhost:6379
FRONTEND_URL=http://localhost:3000
PORT=3001
```

### **ElizaOS (.env)**
```bash
ELIZAOS_PORT=3002
BACKEND_URL=http://localhost:3001
AI_MODEL=gpt-4-turbo
WEBSOCKET_ENABLED=true
```

## üìä Monitoramento e Debug

### **Status do Sistema**
```bash
# Status completo
./status-riskguardian.sh

# Informa√ß√µes exibidas:
- Vers√µes do sistema
- Status de cada servi√ßo
- Health checks autom√°ticos
- Uso de recursos
- PIDs ativos
```

### **Logs e Debug**
```bash
# Logs principais
tail -f riskguardian-startup.log

# Logs por servi√ßo
cd frontend && npm run dev 2>&1 | tee frontend.log
cd backend && npm run dev 2>&1 | tee backend.log

# Debug espec√≠fico
DEBUG=* npm run dev  # Frontend
DEBUG=app:* npm run dev  # Backend
```

### **Health Checks**
```bash
# Verifica√ß√£o autom√°tica
curl -f http://localhost:3000      # Frontend
curl -f http://localhost:3001/health  # Backend
curl -f http://localhost:3002/health  # ElizaOS
curl -f http://localhost:3003/health  # Chromia

# Blockchain
curl -X POST http://localhost:8545 \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
```

## üß™ Testes e Qualidade

### **Execu√ß√£o de Testes**
```bash
# Testes unit√°rios backend
cd backend && npm test

# Testes de integra√ß√£o
./scripts/test-integration.sh

# Testes E2E frontend
cd frontend && npm run test:e2e

# Cobertura de c√≥digo
cd backend && npm run test:coverage
```

### **Qualidade de C√≥digo**
```bash
# Lint
cd frontend && npm run lint
cd backend && npm run lint

# Type checking
cd frontend && npm run type-check
cd backend && npm run type-check

# Formata√ß√£o
npm run prettier
```

## üöÄ Deploy e Produ√ß√£o

### **Prepara√ß√£o para Deploy**
```bash
# Teste em modo produ√ß√£o
./start-riskguardian.sh prod

# Build de todos os servi√ßos
cd frontend && npm run build
cd backend && npm run build
```

### **URLs de Produ√ß√£o**
- **Frontend**: https://riskguardian-7ewwn3tg2-jistrianes-projects.vercel.app
- **Backend**: https://riskguardian-backend.onrender.com

## üîí Seguran√ßa

### **Desenvolvimento Local**
- ‚úÖ HTTPS autom√°tico (Next.js)
- ‚úÖ CORS configurado
- ‚úÖ Rate limiting
- ‚úÖ Input validation
- ‚úÖ JWT tokens seguros

### **Produ√ß√£o**
- ‚úÖ Environment variables seguras
- ‚úÖ Headers de seguran√ßa
- ‚úÖ Logs audit√°veis
- ‚úÖ Backup autom√°tico

## üÜò Solu√ß√£o de Problemas

### **Problemas Comuns**

**Porta em uso:**
```bash
./stop-riskguardian.sh  # Para tudo
lsof -i :3000          # Verificar porta espec√≠fica
kill -9 <PID>          # Matar processo
```

**Depend√™ncias n√£o instaladas:**
```bash
./start-riskguardian.sh test  # Instalar depend√™ncias
# ou
rm -rf node_modules && npm install
```

**Servi√ßos n√£o respondem:**
```bash
./status-riskguardian.sh    # Verificar status
cat riskguardian-startup.log  # Ver logs
```

### **Debug Avan√ßado**
```bash
# Logs detalhados
DEBUG=1 ./start-riskguardian.sh dev

# An√°lise de recursos
top -p $(ps aux | grep node | awk '{print $2}' | tr '\n' ',')

# Rede
netstat -tulpn | grep :300
```

## üìà Performance

### **M√©tricas de Desenvolvimento**
- **Inicializa√ß√£o**: < 10 segundos
- **Hot reload**: < 2 segundos
- **Build completo**: < 60 segundos
- **Uso de RAM**: ~1GB (todos os servi√ßos)

### **Otimiza√ß√µes**
- Scripts nativos otimizados
- Cache de depend√™ncias
- Build incremental
- Process management eficiente

## üéØ Roadmap T√©cnico

### **Conclu√≠do ‚úÖ**
1. **Sistema de scripts nativos** - Substitui√ß√£o completa do Docker
2. **Automa√ß√£o completa** - Zero configura√ß√£o manual
3. **Monitoramento integrado** - Status e logs unificados
4. **Deploy de produ√ß√£o** - Vercel + Render funcionando

### **Pr√≥ximos Passos üîÑ**
1. **Testes automatizados** - CI/CD completo
2. **M√©tricas avan√ßadas** - APM integrado
3. **Backup autom√°tico** - Dados e configura√ß√µes
4. **Mobile development** - React Native setup

---

**Desenvolvido com foco na simplicidade e produtividade** üöÄ